# VS Code Shell Integration –¥–ª—è zsh

## –©–æ —Ü–µ —Ç–∞–∫–µ?

VS Code Shell Integration –¥–æ–∑–≤–æ–ª—è—î —Ç–µ—Ä–º—ñ–Ω–∞–ª—É –∫—Ä–∞—â–µ —Ä–æ–∑—É–º—ñ—Ç–∏, —â–æ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ shell-—É. –¶–µ –∞–∫—Ç–∏–≤—É—î –ø–æ—Ç—É–∂–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó:

### ‚ú® –û—Å–Ω–æ–≤–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó

#### 1. **–î–µ—Ç–µ–∫—Ç—É–≤–∞–Ω–Ω—è –∫–æ–º–∞–Ω–¥** (`Cmd+Up` / `Cmd+Down`)
- –ù–∞–≤—ñ–≥–∞—Ü—ñ—è –º—ñ–∂ –∫–æ–º–∞–Ω–¥–∞–º–∏ –≤–≤–µ—Ä—Ö/–≤–Ω–∏–∑
- –ó–º—ñ—â–µ–Ω–Ω—è –∑ `Shift+Cmd+Up` / `Shift+Cmd+Down` –¥–ª—è –≤–∏–±–æ—Ä—É –≤–∏–≤–æ–¥—É
- –®–≤–∏–¥–∫–∞ –Ω–∞–≤—ñ–≥–∞—Ü—ñ—è —á–µ—Ä–µ–∑ —ñ—Å—Ç–æ—Ä—ñ—é –∫–æ–º–∞–Ω–¥

#### 2. **–î–µ–∫–æ—Ä–∞—Ü—ñ—ó –∫–æ–º–∞–Ω–¥** (‚úì / ‚úó –∑ –∫–æ–ª—å–æ—Ä–∞–º–∏)
- üü¢ –ó–µ–ª–µ–Ω—ñ –∑–Ω–∞—á–∫–∏ –¥–ª—è —É—Å–ø—ñ—à–Ω–∏—Ö –∫–æ–º–∞–Ω–¥
- üî¥ –ß–µ—Ä–≤–æ–Ω—ñ —Ö—Ä–µ—Å—Ç–∏–∫–∏ –¥–ª—è –ø–æ–º–∏–ª–æ–∫
- –î–æ—Å—Ç—É–ø–Ω—ñ –¥—ñ—ó: Copy Output, Copy as HTML, Rerun Command
- –í–∏–¥–∏–º—ñ—Å—Ç—å –≤ scroll bar —á–µ—Ä–µ–∑ Overview Ruler

#### 3. **–£–º–æ–≤–Ω–∞ –Ω–∞–≤—ñ–≥–∞—Ü—ñ—è**
- –î–æ–ø–æ–º–æ–≥–∞ –º–∏—à–∫–æ—é –¥–ª—è –¥–µ—Ç–∞–ª–µ–π –∫–æ–º–∞–Ω–¥–∏
- –°—Ç—Ä—ñ—á–∫–∞-–≥—ñ–¥ –¥–ª—è –ø–æ–∑–∏—Ü—ñ—é–≤–∞–Ω–Ω—è –∫–æ–º–∞–Ω–¥
- Integration –∑ —Ä–µ–∂–∏–º–æ–º –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—ñ

#### 4. **Sticky Scroll**
- –ö–æ–º–∞–Ω–¥–∞ –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è –≤–∏–¥–∏–º–æ—é –Ω–∞ –≤–µ—Ä—à–∏–Ω—ñ –ø—ñ–¥ —á–∞—Å –ø—Ä–æ–∫—Ä—É—á—É–≤–∞–Ω–Ω—è
- –ö–ª—ñ–∫ –Ω–∞ sticky scroll –ø–æ–≤–µ—Ä—Ç–∞—î –¥–æ –∫–æ–º–∞–Ω–¥–∏

#### 5. **Command History** (`Ctrl+Alt+R`)
- "Run Recent Command" –∑ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—î—é
- –ü–æ—à—É–∫ –ø–æ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ—Ö —Å–µ–∞–Ω—Å–∞—Ö
- Fuzzy search –¥–ª —Ç–æ—á–Ω–æ–≥–æ –ø–æ—à—É–∫—É
- –ö–æ–ø—ñ—é–≤–∞–Ω–Ω—è –≤–∏–≤–æ–¥—É –±–µ–∑ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è

#### 6. **Go to Recent Directory** (`Cmd+G`)
- –®–≤–∏–¥–∫–∞ –Ω–∞–≤—ñ–≥–∞—Ü—ñ—è –ø–æ –≤—ñ–¥–≤—ñ–¥–∞–Ω–∏—Ö –ø–∞–ø–∫–∞—Ö
- –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è —è–∫ –≤ "Go to File"
- Alt + –≤–∏–±—ñ—Ä –≤–∏–∫–æ–Ω—É—î –±–µ–∑ –∑–∞–ø—É—Å–∫—É

#### 7. **IntelliSense –≤ —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ**
- –ê–≤—Ç–æ–∑–∞–ø–æ–≤–Ω–µ–Ω–Ω—è –¥–ª—è —Ñ–∞–π–ª—ñ–≤, –ø–∞–ø–æ–∫, –∫–æ–º–∞–Ω–¥
- –ê—Ä–≥—É–º–µ–Ω—Ç–∏ —ñ –æ–ø—Ü—ñ—ó –∫–æ–º–∞–Ω–¥
- –°–ø–µ—Ü—ñ–∞–ª—å–Ω–µ –∑–∞–ø–æ–≤–Ω–µ–Ω–Ω—è –∑–∞ —Å–∏–º–≤–æ–ª–æ–º (-, /)
- –ì–ª–æ–±–∞–ª—å–Ω–∞ cache –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

#### 8. **Quick Fixes** (–ª–∞–º–ø–æ—á–∫–∞ üí°)
- Kill –ø—Ä–æ—Ü–µ—Å —è–∫—â–æ –ø–æ—Ä—Ç –∑–∞–π–Ω—è—Ç–∏–π
- `git push --set-upstream` –¥–ª—è –≥—ñ–ª–æ–∫
- –ü—Ä–æ–ø–æ–∑–∏—Ü—ñ—ó —Å—Ö–æ–∂–∏—Ö –∫–æ–º–∞–Ω–¥
- –õ—ñ–Ω–∫–∏ –Ω–∞ GitHub PR

#### 9. **–†–æ–∑—Ä–æ–±–ª–µ–Ω–Ω—è –∑ git**
- –ë–µ–∑–ø–µ—á–Ω–µ –¥–µ—Ç–µ–∫—Ç—É–≤–∞–Ω–Ω—è CWD –¥–ª—è –≤—ñ–¥–∫—Ä–∏—Ç—Ç—è –ø–æ—Å–∏–ª–∞–Ω—å
- –†–æ–∑—É–º–Ω–µ –≤–∏—Ä—ñ—à–µ–Ω–Ω—è –Ω–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω–∏—Ö —Ñ–∞–π–ª—ñ–≤
- –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –≤–ª–æ–∂–µ–Ω–∏—Ö —Ä–æ–±–æ—á–∏—Ö –ø—Ä–æ—Å—Ç–æ—Ä—ñ–≤

## –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º)

Shell integration **–≤–∂–µ –∞–∫—Ç–∏–≤–Ω–∞** –¥–ª—è zsh –≤ VS Code. –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —ñ–Ω–∂–µ–∫—Ç—É—î—Ç—å—Å—è –ø—Ä–∏ –∑–∞–ø—É—Å–∫—É —Ç–µ—Ä–º—ñ–Ω–∞–ª—É —á–µ—Ä–µ–∑:
- –ó–º—ñ–Ω–Ω—ñ –æ—Ç–æ—á–µ–Ω–Ω—è
- –ê—Ä–≥—É–º–µ–Ω—Ç–∏ shell-—é
- –ë—É–¥—å-—è–∫–æ—ó –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ vscode

### üîß –ö–æ–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —ñ–Ω–∂–µ–∫—Ç—É–≤–∞–Ω–Ω—è –Ω–µ —Å–ø—Ä–∞—Ü—é—î:

1. –°—Ç–∞—Ä—ñ –≤–µ—Ä—Å—ñ—ó zsh (< 5.4)
2. –°–∫–ª–∞–¥–Ω—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è PROMPT_COMMAND
3. –ü–ª–∞–≥—ñ–Ω–∏ shell-—é —è–∫—ñ –≤–∏–¥–∞–ª—è—é—Ç—å `$VSCODE_SHELL_INTEGRATION`
4. SSH —Å–µ–∞–Ω—Å–∏ –±–µ–∑ Remote - SSH —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è
5. –°—É–ø—Ä–æ—Ü–µ—Å–∏ –∑ –Ω–µ–≤–∏–∑–Ω–∞—á–µ–Ω–∏–º TERM_PROGRAM

### ‚úèÔ∏è –†—É—á–Ω–∞ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è (–≤–∂–µ –¥–æ–¥–∞–Ω–∞ –¥–æ ~/.zshrc)

–î–æ–¥–∞–≤ –¥–æ `~/.zshrc`:

```bash
[[ "$TERM_PROGRAM" == "vscode" ]] && . "$(code --locate-shell-integration-path zsh)"
```

**–ü–µ—Ä–µ–≤–∞–≥–∏ —Ä—É—á–Ω–æ—ó —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó:**
- –ì–∞—Ä–∞–Ω—Ç—É—î —Ä–æ–±–æ—Ç—É –≤ —É—Å—ñ—Ö —Å–ª—É—á–∞—è—Ö
- –ü–æ—Ç—Ä—ñ–±–Ω–∞ —Ç–æ–ª—å–∫–æ –≤ zsh - bash –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π
- –ú—ñ–Ω—ñ–º–∞–ª—å–Ω—ñ overhead

### üìã –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –≤ VS Code (`.vscode/settings.json`)

```json
{
  // –û—Å–Ω–æ–≤–Ω–∞ –∞–∫—Ç–∏–≤–∞—Ü—ñ—è
  "terminal.integrated.shellIntegration.enabled": true,
  
  // –î–µ–∫–æ—Ä–∞—Ü—ñ—ó —É—Å–ø—ñ—Ö—É/–ø–æ–º–∏–ª–æ–∫
  "terminal.integrated.shellIntegration.decorationsEnabled": true,
  
  // –°—Ç—Ä—ñ—á–∫–∞-–≥—ñ–¥ –±—ñ–ª—è –∫–æ–∂–Ω–æ—ó –∫–æ–º–∞–Ω–¥–∏
  "terminal.integrated.shellIntegration.showCommandGuide": true,
  
  // –ú–∞–∫—Å–∏–º—É–º —ñ—Å—Ç–æ—Ä—ñ—ó –∫–æ–º–∞–Ω–¥ –¥–ª—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è
  "terminal.integrated.shellIntegration.history": 1000,
  
  // Sticky scroll –¥–ª—è –∫–æ–º–∞–Ω–¥–∏ –≤–≥–æ—Ä—ñ
  "terminal.integrated.stickyScroll.enabled": true,
  
  // Intellisense —É —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ
  "terminal.integrated.suggest.enabled": true,
  "terminal.integrated.suggest.runOnEnter": true,
  "terminal.integrated.suggest.quickSuggestions": true,
  "terminal.integrated.suggest.suggestOnTriggerCharacters": true,
  "terminal.integrated.suggest.showStatusBar": true,
  "terminal.integrated.suggest.upArrowNavigatesHistory": true,
  "terminal.integrated.suggest.inlineSuggestion": "auto",
  "terminal.integrated.suggest.cdPath": true
}
```

## üéÆ –ö–ª–∞–≤—ñ—à—ñ —Å–∫–æ—Ä–æ—á–µ–Ω–Ω—è

### –ù–∞–≤—ñ–≥–∞—Ü—ñ—è –∫–æ–º–∞–Ω–¥
| –°–∫–æ—Ä–æ—á–µ–Ω–Ω—è | –î—ñ—è |
|-----------|-----|
| `Cmd+Up` | –î–æ –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ—ó –∫–æ–º–∞–Ω–¥–∏ |
| `Cmd+Down` | –î–æ –Ω–∞—Å—Ç—É–ø–Ω–æ—ó –∫–æ–º–∞–Ω–¥–∏ |
| `Shift+Cmd+Up` | –í–∏–±—ñ—Ä –≤—ñ–¥ –ø–æ—Ç–æ—á–Ω–æ—ó –ø–æ–∑–∏—Ü—ñ—ó –¥–æ –∫–æ–º–∞–Ω–¥–∏ |
| `Shift+Cmd+Down` | –í–∏–±—ñ—Ä –¥–æ –Ω–∞—Å—Ç—É–ø–Ω–æ—ó –∫–æ–º–∞–Ω–¥–∏ |

### –Ü—Å—Ç–æ—Ä—ñ—è —Ç–∞ –∫–∞—Ç–∞–ª–æ–≥–∏
| –°–∫–æ—Ä–æ—á–µ–Ω–Ω—è | –î—ñ—è |
|-----------|-----|
| `Ctrl+Alt+R` | Run Recent Command |
| `Cmd+G` | Go to Recent Directory |
| `Alt+Ctrl+R` | –ù–∞–¥—ñ—Å–ª–∞—Ç–∏ Ctrl+R –¥–æ shell (–Ω–∞ Mac) |

### Intellisense
| –°–∫–æ—Ä–æ—á–µ–Ω–Ω—è | –î—ñ—è |
|-----------|-----|
| `Ctrl+Space` | Trigger completions (–≤—Ä—É—á–Ω—É) |
| `Tab` | –í—Å—Ç–∞–≤–∏—Ç–∏ –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ—é (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º) |
| `Enter` | –í—Å—Ç–∞–≤–∏—Ç–∏ –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ—é –ø—ñ—Å–ª—è –Ω–∞–≤—ñ–≥–∞—Ü—ñ—ó |

### IntelliSense —É —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ –¥–ª—è zsh
- `upArrowNavigatesHistory: true` –¥–æ–∑–≤–æ–ª—è—î Up/Down –¥–ª—è —ñ—Å—Ç–æ—Ä—ñ—ó –∑–∞–º—ñ—Å—Ç—å –ª–∏—Å—Ç–∞–Ω–Ω—è

## üîç –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —è–∫–æ—Å—Ç—ñ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó

### –Ø–∫ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Å—Ç–∞—Ç—É—Å

1. **–ù–∞–≤–µ—Å—Ç–∏ –º–∏—à–∫—É –Ω–∞ –≤–∫–ª–∞–¥–∫—É —Ç–µ—Ä–º—ñ–Ω–∞–ª—É** - –ø–æ–±–∞—á–∏—Ç–µ —è–∫—ñ—Å—Ç—å —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó
2. **–ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "Show Details"** - –¥–µ—Ç–∞–ª—å–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

### –†—ñ–≤–Ω—ñ —è–∫–æ—Å—Ç—ñ

- **None**: –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –Ω–µ–∞–∫—Ç–∏–≤–Ω–∞
- **Basic**: –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∞–∫—Ç–∏–≤–Ω–∞, –∞–ª–µ –¥–µ—Ç–µ–∫—Ç—É–≤–∞–Ω–Ω—è –∫–æ–º–∞–Ω–¥ –æ–±–º–µ–∂–µ–Ω–µ
- **Rich**: –Ü–¥–µ–∞–ª—å–Ω–µ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω—É–≤–∞–Ω–Ω—è –∑ –ø–æ–≤–Ω–∏–º –¥–µ—Ç–µ–∫—Ç—É–≤–∞–Ω–Ω—è–º

## üêõ –†–æ–∑–≤'—è–∑–∞–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º

### –ö–æ–º–∞–Ω–¥–∏ –Ω–µ –¥–µ—Ç–µ–∫—Ç—É—é—Ç—å—Å—è

```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —á–∏ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∞–∫—Ç–∏–≤–Ω–∞ –≤ –ø–æ—Ç–æ—á–Ω–æ–º—É —Å–µ–∞–Ω—Å—ñ
echo $VSCODE_SHELL_INTEGRATION
# –ú–∞—î –≤–∏–≤–µ—Å—Ç–∏: vscode

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å —Å–∫—Ä–∏–ø—Ç—É
code --locate-shell-integration-path zsh
# –ú–∞—î –≤–∏–≤–µ—Å—Ç–∏ —à–ª—è—Ö –¥–æ —Å–∫—Ä–∏–ø—Ç—É
```

### –î–µ–∫–æ—Ä–∞—Ü—ñ—ó –Ω–µ –ø–æ–∫–∞–∑—É—é—Ç—å—Å—è (–∫–æ–ª–∏ –≤–æ–Ω–∏ –≤–∏–º–∫–Ω–µ–Ω—ñ)

–Ø–∫—â–æ –≤–±–∞—á–∞—î—Ç–µ –¥–µ–∫–æ—Ä–∞—Ü—ñ—ó, —Ö–æ—á–∞ —ó—Ö –≤–∏–º–∫–Ω—É–ª–∏, –º–æ–∂–ª–∏–≤–æ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è —ñ–Ω—à–æ–≥–æ —Ç–µ—Ä–º—ñ–Ω–∞–ª—É:

```json
{
  "terminal.integrated.shellIntegration.decorationsEnabled": "never"
}
```

### –í–∏–¥–∞–ª–µ–Ω–Ω—è —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó

–Ø–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤–∏–¥–∞–ª–∏—Ç–∏, –ø—Ä–æ—Å—Ç–æ –≤–∏–¥–∞–ª—ñ—Ç—å —Å—Ç—Ä–æ–∫—É –∑ `~/.zshrc`:

```bash
# –í–∏–¥–∞–ª–∏—Ç–∏ VS Code Shell Integration –∑ .zshrc
sed -i '' '/VSCODE_SHELL_INTEGRATION/,+3d' ~/.zshrc
```

## üìö –î–æ–¥–∞—Ç–∫–æ–≤—ñ —Ä–µ—Å—É—Ä—Å–∏

- [–û—Ñ—ñ—Ü—ñ–π–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è VS Code](https://code.visualstudio.com/docs/terminal/shell-integration)
- [Escape sequences (OSC 633)](https://code.visualstudio.com/docs/terminal/shell-integration#_supported-escape-sequences)
- [iTerm2 –º–∞—Ä–∫–µ—Ä–∏](https://code.visualstudio.com/docs/terminal/shell-integration#_iterm2-shell-integration)
- [Final Term –ø—ñ–¥—Ç—Ä–∏–º–∫–∞](https://code.visualstudio.com/docs/terminal/shell-integration#_final-term-shell-integration)

## ‚úÖ –°—Ç–∞—Ç—É—Å –≤–∞—à–æ—ó –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó

- ‚úÖ Shell Integration –¥–æ–¥–∞–Ω–∞ –¥–æ `~/.zshrc`
- ‚úÖ VS Code –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –≤ `.vscode/settings.json`
- ‚úÖ –í—Å—ñ —Ñ—É–Ω–∫—Ü—ñ—ó —É–≤—ñ–º–∫–Ω–µ–Ω—ñ –¥–ª—è zsh
- ‚úÖ Ready to use!

–ü—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ VS Code —Ç–µ—Ä–º—ñ–Ω–∞–ª—å (–∞–±–æ –∑–∞–∫—Ä–∏–π—Ç–µ/–æ—Ç–∫—Ä–æ–π—Ç–µ –Ω–æ–≤—É –≤–∫–ª–∞–¥–∫—É) —â–æ–± –ø–æ–±–∞—á–∏—Ç–∏ –≤—Å—ñ —Ñ—É–Ω–∫—Ü—ñ—ó –≤ –¥—ñ—ó.
