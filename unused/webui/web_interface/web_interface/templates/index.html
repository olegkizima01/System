<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üîì CLEANUP TERMINAL</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Courier New', monospace;
            background: #0a0e27;
            color: #00ff41;
            min-height: 100vh;
            padding: 10px;
            overflow: hidden;
        }
        
        .container {
            display: flex;
            flex-direction: column;
            height: 100vh;
            gap: 10px;
        }
        
        /* HEADER */
        header {
            background: #1a1f3a;
            border: 2px solid #00ff41;
            padding: 8px 12px;
            border-radius: 4px;
            font-size: 0.9em;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .header-title {
            font-weight: bold;
            text-shadow: 0 0 10px #00ff41;
        }
        
        .header-time {
            font-size: 0.8em;
            opacity: 0.7;
        }
        
        /* CONTROL PANEL */
        .control-panel {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 8px;
            flex-shrink: 0;
        }
        
        .panel {
            background: #1a1f3a;
            border: 1px solid #00ff41;
            border-radius: 4px;
            padding: 10px;
        }
        
        .panel-title {
            font-size: 0.85em;
            font-weight: bold;
            margin-bottom: 8px;
            padding-bottom: 6px;
            border-bottom: 1px solid #00ff41;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .status-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 6px;
            margin-bottom: 8px;
            font-size: 0.8em;
        }
        
        .status-item {
            background: #0a0e27;
            padding: 6px;
            border-radius: 3px;
            border-left: 2px solid #00ff41;
        }
        
        .status-label {
            opacity: 0.7;
            font-size: 0.75em;
        }
        
        .status-value {
            font-weight: bold;
            color: #00ff41;
            text-shadow: 0 0 5px #00ff41;
        }
        
        .button-row {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 6px;
        }
        
        button {
            padding: 6px 10px;
            background: #0a0e27;
            border: 1px solid #00ff41;
            color: #00ff41;
            font-family: 'Courier New', monospace;
            font-size: 0.75em;
            font-weight: bold;
            cursor: pointer;
            border-radius: 3px;
            transition: all 0.2s;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        button:hover {
            background: #00ff41;
            color: #0a0e27;
            box-shadow: 0 0 10px #00ff41;
            text-shadow: none;
        }
        
        button:active {
            transform: scale(0.98);
        }
        
        button.btn-danger {
            border-color: #ff0055;
            color: #ff0055;
        }
        
        button.btn-danger:hover {
            background: #ff0055;
            color: #0a0e27;
            box-shadow: 0 0 10px #ff0055;
        }
        
        button.btn-warning {
            border-color: #ffaa00;
            color: #ffaa00;
        }
        
        button.btn-warning:hover {
            background: #ffaa00;
            color: #0a0e27;
            box-shadow: 0 0 10px #ffaa00;
        }
        
        .check-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: 2px solid #667eea;
        }
        
        .check-btn:hover {
            background: linear-gradient(135deg, #764ba2 0%, #667eea 100%);
            box-shadow: 0 0 20px rgba(102, 126, 234, 0.4);
        }
        
        .full-cycle-btn {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
            border: 2px solid #ff6b6b;
            font-size: 1.1em;
            padding: 15px 25px;
            animation: pulse 2s infinite;
        }
        
        .full-cycle-btn:hover {
            background: linear-gradient(135deg, #ee5a24 0%, #ff6b6b 100%);
            box-shadow: 0 0 25px rgba(255, 107, 107, 0.5);
            transform: scale(1.05);
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(255, 107, 107, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(255, 107, 107, 0); }
            100% { box-shadow: 0 0 0 0 rgba(255, 107, 107, 0); }
        }
        
        /* MAIN CONTENT */
        .main-content {
            display: flex;
            gap: 8px;
            flex: 1;
            min-height: 0;
        }
        
        .side-panel {
            width: 250px;
            background: #1a1f3a;
            border: 1px solid #00ff41;
            border-radius: 4px;
            padding: 10px;
            overflow-y: auto;
            flex-shrink: 0;
        }
        
        .side-panel-title {
            font-size: 0.8em;
            font-weight: bold;
            margin-bottom: 8px;
            padding-bottom: 6px;
            border-bottom: 1px solid #00ff41;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .config-item {
            font-size: 0.75em;
            padding: 4px 6px;
            margin-bottom: 4px;
            background: #0a0e27;
            border-left: 2px solid #00ff41;
            border-radius: 2px;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .config-item:hover {
            background: #00ff41;
            color: #0a0e27;
            padding-left: 8px;
        }
        
        .config-name {
            font-weight: bold;
            display: block;
        }
        
        .config-date {
            opacity: 0.6;
            font-size: 0.7em;
        }
        
        /* LOG VIEWER */
        .log-viewer {
            flex: 1;
            background: #0a0e27;
            border: 1px solid #00ff41;
            border-radius: 4px;
            padding: 10px;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }
        
        .log-header {
            font-size: 0.8em;
            font-weight: bold;
            margin-bottom: 8px;
            padding-bottom: 6px;
            border-bottom: 1px solid #00ff41;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .log-content {
            flex: 1;
            overflow-y: auto;
            font-size: 0.75em;
            line-height: 1.4;
            font-family: 'Courier New', monospace;
            white-space: pre-wrap;
            word-break: break-word;
        }
        
        .log-line {
            margin-bottom: 2px;
        }
        
        .log-success {
            color: #00ff41;
            text-shadow: 0 0 5px #00ff41;
        }
        
        .log-error {
            color: #ff0055;
            text-shadow: 0 0 5px #ff0055;
        }
        
        .log-warning {
            color: #ffaa00;
        }
        
        .log-info {
            color: #00aaff;
        }
        
        /* SCROLLBAR */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: #0a0e27;
        }
        
        ::-webkit-scrollbar-thumb {
            background: #00ff41;
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: #00aa00;
        }
        
        /* ANIMATIONS */
        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }
        
        .cursor {
            animation: blink 1s infinite;
        }
        
        /* RESPONSIVE */
        @media (max-width: 1024px) {
            .main-content {
                flex-direction: column;
            }
            
            .side-panel {
                width: 100%;
                max-height: 150px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- HEADER -->
        <header>
            <span class="header-title">üîì CLEANUP TERMINAL v1.0</span>
            <span class="header-time" id="header-time">--:--:--</span>
        </header>
        
        <!-- CONTROL PANEL -->
        <div class="control-panel">
            <!-- Windsurf Panel -->
            <div class="panel">
                <div class="panel-title">üå™Ô∏è Windsurf</div>
                <div class="status-grid">
                    <div class="status-item">
                        <div class="status-label">–°—Ç–∞—Ç—É—Å</div>
                        <div class="status-value" id="windsurf-status">?</div>
                    </div>
                    <div class="status-item">
                        <div class="status-label">–ö–æ–Ω—Ñ—ñ–≥</div>
                        <div class="status-value" id="windsurf-configs">0</div>
                    </div>
                </div>
                <div class="button-row">
                    <button onclick="runCleanup('windsurf')">üßπ Cleanup</button>
                    <button class="btn-warning" onclick="checkCleanup('windsurf')">‚úì Check</button>
                </div>
            </div>
            
            <!-- VS Code Panel -->
            <div class="panel">
                <div class="panel-title">üíª VS Code</div>
                <div class="status-grid">
                    <div class="status-item">
                        <div class="status-label">–°—Ç–∞—Ç—É—Å</div>
                        <div class="status-value" id="vscode-status">?</div>
                    </div>
                    <div class="status-item">
                        <div class="status-label">–ö–æ–Ω—Ñ—ñ–≥</div>
                        <div class="status-value" id="vscode-configs">0</div>
                    </div>
                </div>
                <div class="button-row">
                    <button onclick="runCleanup('vscode')">üßπ Cleanup</button>
                    <button class="action-btn check-btn" onclick="checkCleanup('vscode')">
                        <span class="btn-icon">üîç</span>
                        <span class="btn-text">CHECK</span>
                    </button>
                </div>
            </div>
            
            <!-- FULL CYCLE SECTION -->
            <div class="control-section">
                <h3 class="section-title">ü§ñ FULL CYCLE AUTOMATION</h3>
                <div class="control-group">
                    <button class="action-btn full-cycle-btn" onclick="runFullCycle()">
                        <span class="btn-icon">üöÄ</span>
                        <span class="btn-text">FULL CYCLE</span>
                    </button>
                    <div class="control-info">
                        <span class="info-label">Cleanup ‚Üí Email ‚Üí Windsurf</span>
                    </div>
                </div>
            </div>
            
            <!-- System Panel -->
            <div class="panel">
                <div class="panel-title">üñ•Ô∏è System</div>
                <div class="status-grid">
                    <div class="status-item">
                        <div class="status-label">Hostname</div>
                        <div class="status-value" id="system-hostname" style="font-size: 0.85em;">?</div>
                    </div>
                    <div class="status-item">
                        <div class="status-label">Uptime</div>
                        <div class="status-value" id="system-uptime">?</div>
                    </div>
                </div>
                <div class="button-row">
                    <button class="btn-warning" onclick="refreshStatus()">üîÑ Refresh</button>
                    <button class="btn-danger" onclick="clearLogs()">üóëÔ∏è Clear</button>
                </div>
            </div>
        </div>
        
        <!-- MAIN CONTENT -->
        <div class="main-content">
            <!-- SIDE PANEL - Configs -->
            <div class="side-panel">
                <div class="side-panel-title">üìÅ Configs</div>
                <div id="configs-list">
                    <div class="config-item">
                        <span class="config-name">Loading...</span>
                    </div>
                </div>
            </div>
            
            <!-- LOG VIEWER -->
            <div class="log-viewer">
                <div class="log-header">üìã Output Log</div>
                <div class="log-content" id="log-content">
                    <div class="log-line log-info">[INFO] System initialized</div>
                    <div class="log-line log-info">[INFO] Ready for cleanup operations</div>
                    <div class="log-line log-info">[INFO] Type 'help' for available commands</div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // LOG FUNCTIONS
        function addLog(message, type = 'info') {
            const logContent = document.getElementById('log-content');
            const logLine = document.createElement('div');
            logLine.className = `log-line log-${type}`;
            
            const timestamp = new Date().toLocaleTimeString('uk-UA');
            logLine.textContent = `[${timestamp}] ${message}`;
            
            logContent.appendChild(logLine);
            logContent.scrollTop = logContent.scrollHeight;
        }
        
        function clearLogs() {
            const logContent = document.getElementById('log-content');
            logContent.innerHTML = '<div class="log-line log-info">[INFO] Logs cleared</div>';
            addLog('System ready', 'info');
        }
        
        // INITIALIZATION
        document.addEventListener('DOMContentLoaded', function() {
            addLog('System initialized', 'info');
            refreshStatus();
            setInterval(refreshStatus, 5000);
            setInterval(updateTime, 1000);
            updateTime();
        });
        
        function updateTime() {
            const now = new Date();
            document.getElementById('header-time').textContent = 
                now.toLocaleTimeString('uk-UA');
        }
        
        function refreshStatus() {
            fetch('/api/status')
                .then(r => r.json())
                .then(data => {
                    const wsStatus = data.windsurf.installed ? '‚úì OK' : '‚úó OFF';
                    const vcStatus = data.vscode.installed ? '‚úì OK' : '‚úó OFF';
                    
                    document.getElementById('system-hostname').textContent = data.hostname;
                    document.getElementById('system-uptime').textContent = '‚Üë Active';
                    document.getElementById('windsurf-status').textContent = wsStatus;
                    document.getElementById('vscode-status').textContent = vcStatus;
                    document.getElementById('windsurf-configs').textContent = data.windsurf.configs;
                    document.getElementById('vscode-configs').textContent = data.vscode.configs;
                    
                    loadConfigs();
                })
                .catch(e => {
                    addLog(`Error: ${e}`, 'error');
                });
        }
        
        function loadConfigs() {
            Promise.all([
                fetch('/api/configs/windsurf').then(r => r.json()),
                fetch('/api/configs/vscode').then(r => r.json())
            ])
            .then(([wsData, vcData]) => {
                const allConfigs = [
                    ...wsData.configs.map(c => ({...c, system: 'windsurf'})),
                    ...vcData.configs.map(c => ({...c, system: 'vscode'}))
                ];
                
                const configsList = document.getElementById('configs-list');
                if (allConfigs.length === 0) {
                    configsList.innerHTML = '<div class="config-item"><span class="config-name">No configs</span></div>';
                } else {
                    configsList.innerHTML = allConfigs.map(c => `
                        <div class="config-item" title="${c.name}">
                            <span class="config-name">${c.system === 'windsurf' ? 'üå™Ô∏è' : 'üíª'} ${c.name}</span>
                            <span class="config-date">${new Date(c.created).toLocaleDateString('uk-UA')}</span>
                        </div>
                    `).join('');
                }
            })
            .catch(e => console.error('Error loading configs:', e));
        }
        
        function runCleanup(system) {
            if (!confirm(`Run FULL cleanup for ${system}?\n\nThis will:\n‚úì Validate hostname\n‚úì Check for IDE conflicts\n‚úì Deep Keychain cleanup\n‚úì Clear API keys\n‚úì Clean browser IndexedDB\n‚úì Backup configs\n‚úì Auto-restore in 5 hours`)) return;
            
            addLog(`‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê`, 'info');
            addLog(`üöÄ STARTING FULL CLEANUP FOR ${system.toUpperCase()}`, 'warning');
            addLog(`‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê`, 'info');
            addLog(`Executing: deep_${system}_cleanup.sh`, 'info');
            addLog(``, 'info');
            
            fetch(`/api/cleanup/${system}`, { method: 'POST' })
                .then(r => r.json())
                .then(data => {
                    if (data.output) {
                        // –ü–æ–∫–∞–∑–∞—Ç–∏ –≤–∏–≤—ñ–¥ cleanup —Å–∫—Ä–∏–ø—Ç–∞
                        const lines = data.output.split('\n');
                        lines.forEach(line => {
                            if (line.includes('‚úÖ') || line.includes('‚úì')) {
                                addLog(line, 'success');
                            } else if (line.includes('‚ùå') || line.includes('‚úó')) {
                                addLog(line, 'error');
                            } else if (line.includes('‚ö†Ô∏è') || line.includes('WARNING')) {
                                addLog(line, 'warning');
                            } else if (line.trim()) {
                                addLog(line, 'info');
                            }
                        });
                    }
                    
                    if (data.success) {
                        addLog(``, 'info');
                        addLog(`‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê`, 'success');
                        addLog(`‚úÖ CLEANUP COMPLETED SUCCESSFULLY`, 'success');
                        addLog(`‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê`, 'success');
                        addLog(`Return code: ${data.returncode}`, 'success');
                        setTimeout(refreshStatus, 2000);
                    } else {
                        addLog(``, 'info');
                        addLog(`‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê`, 'error');
                        addLog(`‚ùå CLEANUP FAILED`, 'error');
                        addLog(`‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê`, 'error');
                        if (data.error) addLog(`Error: ${data.error}`, 'error');
                        addLog(`Return code: ${data.returncode}`, 'error');
                    }
                })
                .catch(e => {
                    addLog(``, 'info');
                    addLog(`‚ùå Network Error: ${e}`, 'error');
                });
        }
        
        function checkCleanup(system) {
            addLog(``, 'info');
            addLog(`‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê`, 'info');
            addLog(`üîç CHECKING CLEANUP QUALITY FOR ${system.toUpperCase()}`, 'warning');
            addLog(`‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê`, 'info');
            addLog(`Executing: check_identifier_cleanup.sh`, 'info');
            addLog(``, 'info');
            
            fetch(`/api/check/${system}`, { method: 'POST' })
                .then(r => r.json())
                .then(data => {
                    if (data.output) {
                        const lines = data.output.split('\n');
                        lines.forEach(line => {
                            if (line.includes('‚úÖ') || line.includes('PASS')) {
                                addLog(line, 'success');
                            } else if (line.includes('‚ùå') || line.includes('FAIL')) {
                                addLog(line, 'error');
                            } else if (line.includes('‚ö†Ô∏è') || line.includes('WARN')) {
                                addLog(line, 'warning');
                            } else if (line.trim()) {
                                addLog(line, 'info');
                            }
                        });
                    }
                    
                    if (data.success) {
                        addLog(``, 'info');
                        addLog(`‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê`, 'success');
                        addLog(`‚úÖ ALL CHECKS PASSED`, 'success');
                        addLog(`‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê`, 'success');
                    } else {
                        addLog(``, 'info');
                        addLog(`‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê`, 'warning');
                        addLog(`‚ö†Ô∏è  CHECKS FOUND ISSUES`, 'warning');
                        addLog(`‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê`, 'warning');
                    }
                })
                .catch(e => {
                    addLog(``, 'info');
                    addLog(`‚ùå Network Error: ${e}`, 'error');
                });
        }
                
        function runFullCycle() {
            if (!confirm(`üöÄ –ó–ê–ü–£–°–¢–ò–¢–ò –ü–û–í–ù–ò–ô –¶–ò–ö–õ –ê–í–¢–û–ú–ê–¢–ò–ó–ê–¶–Ü–á?\n\n–¶–µ –≤–∫–ª—é—á–∞—î:\n‚úÖ Deep Windsurf Cleanup\n‚úÖ Email —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—é –Ω–∞ Proton\n‚úÖ –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Windsurf\n\n–ß–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è: –¥–æ 30 —Ö–≤–∏–ª–∏–Ω`)) return;
                    
            addLog(``, 'info');
            addLog(`üöÄüöÄüöÄüöÄüöÄüöÄüöÄüöÄüöÄüöÄüöÄüöÄüöÄüöÄüöÄüöÄüöÄüöÄüöÄüöÄüöÄüöÄüöÄüöÄüöÄüöÄüöÄüöÄüöÄüöÄüöÄ`, 'warning');
            addLog(`üöÄ –ó–ê–ü–£–°–ö –ü–û–í–ù–û–ì–û –¶–ò–ö–õ–£ WINDSURF AUTOMATION`, 'warning');
            addLog(`üöÄüöÄüöÄüöÄüöÄüöÄüöÄüöÄüöÄüöÄüöÄüöÄüöÄüöÄüöÄüöÄüöÄüöÄüöÄüöÄüöÄüöÄüöÄüöÄüöÄüöÄüöÄüöÄüöÄüöÄüöÄ`, 'warning');
            addLog(``, 'info');
            addLog(`–ö–†–û–ö 1: Deep Windsurf Cleanup`, 'info');
            addLog(`–ö–†–û–ö 2: Email —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –Ω–∞ Proton`, 'info');
            addLog(`–ö–†–û–ö 3: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Windsurf`, 'info');
            addLog(``, 'info');
            addLog(`‚è≥ –û—á—ñ–∫—É–≤–∞–Ω–∏–π —á–∞—Å: –¥–æ 30 —Ö–≤–∏–ª–∏–Ω`, 'warning');
            addLog(``, 'info');
                    
            fetch('/api/full-cycle', { method: 'POST' })
                .then(r => r.json())
                .then(data => {
                    if (data.output) {
                        const lines = data.output.split('\n');
                        lines.forEach(line => {
                            if (line.includes('‚úÖ') || line.includes('SUCCESS')) {
                                addLog(line, 'success');
                            } else if (line.includes('‚ùå') || line.includes('ERROR')) {
                                addLog(line, 'error');
                            } else if (line.includes('‚ö†Ô∏è') || line.includes('WARNING')) {
                                addLog(line, 'warning');
                            } else if (line.includes('üîÑ') || line.includes('STEP')) {
                                addLog(line, 'info');
                            } else if (line.trim()) {
                                addLog(line, 'info');
                            }
                        });
                    }
                    
                    if (data.success) {
                        addLog(``, 'info');
                        addLog(`üéâüéâüéâüéâüéâüéâüéâüéâüéâüéâüéâüéâüéâüéâüéâüéâüéâüéâüéâüéâüéâüéâüéâüéâüéâüéâüéâüéâüéâüéâüéâ`, 'success');
                        addLog(`üéâ –ü–û–í–ù–ò–ô –¶–ò–ö–õ –ó–ê–í–ï–†–®–ï–ù–û –£–°–ü–Ü–®–ù–û!`, 'success');
                        addLog(`üéâüéâüéâüéâüéâüéâüéâüéâüéâüéâüéâüéâüéâüéâüéâüéâüéâüéâüéâüéâüéâüéâüéâüéâüéâüéâüéâüéâüéâüéâüéâ`, 'success');
                        addLog(`Return code: ${data.returncode}`, 'success');
                        setTimeout(refreshStatus, 2000);
                    } else {
                        addLog(``, 'info');
                        addLog(`üí•üí•üí•üí•üí•üí•üí•üí•üí•üí•üí•üí•üí•üí•üí•üí•üí•üí•üí•üí•üí•üí•üí•üí•üí•üí•üí•üí•üí•üí•üí•`, 'error');
                        addLog(`üí• –ü–û–í–ù–ò–ô –¶–ò–ö–õ –ù–ï –í–î–ê–í–°–Ø`, 'error');
                        addLog(`üí•üí•üí•üí•üí•üí•üí•üí•üí•üí•üí•üí•üí•üí•üí•üí•üí•üí•üí•üí•üí•üí•üí•üí•üí•üí•üí•üí•üí•üí•üí•`, 'error');
                        if (data.error) addLog(`Error: ${data.error}`, 'error');
                        addLog(`Return code: ${data.returncode}`, 'error');
                    }
                })
                .catch(e => {
                    addLog(``, 'info');
                    addLog(`‚ùå Network Error: ${e}`, 'error');
                });
        }</script>
</body>
</html>
