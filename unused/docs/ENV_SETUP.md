# Налаштування змінних середовища

## Швидкий старт

1. **Автоматичне створення .env файлу:**
   При першому запуску будь-якого скрипта автоматично створюється `.env` файл з `.env.example`

2. **Ручне налаштування:**
   ```bash
   cp .env.example .env
   nano .env  # або будь-який інший редактор
   ```

3. **Налаштуйте свій пароль:**
   Відредагуйте файл `.env` та змініть значення `SUDO_PASSWORD`:
   ```bash
   SUDO_PASSWORD=ВашПароль
   ```

## Структура .env файлу

```bash
# Пароль адміністратора для sudo команд
SUDO_PASSWORD=Qwas@000

# Порт для веб-інтерфейсу
WEB_PORT=8888

# Директорії
CONFIGS_DIR=./configs
CONFIGS_VSCODE_DIR=./configs_vscode
HISTORY_DIR=./history
```

## Як це працює

### Автоматичне введення пароля

Всі скрипти (`deep_windsurf_cleanup.sh`, `deep_vscode_cleanup.sh`) тепер:

1. **Завантажують .env** при запуску
2. **Використовують пароль** з `SUDO_PASSWORD` для sudo команд
3. **Не запитують пароль** інтерактивно, якщо він налаштований

### Веб-інтерфейс

Веб-сервер (`web_interface/server.py`):

1. **Завантажує конфігурацію** з `.env`
2. **Передає змінні** до cleanup скриптів
3. **Використовує порт** з `WEB_PORT`

## Безпека

⚠️ **ВАЖЛИВО:**

- Файл `.env` **НЕ комітиться** в Git (додано до `.gitignore`)
- **Не діліться** файлом `.env` з іншими
- Використовуйте **сильні паролі**
- Регулярно **змінюйте паролі**

## Приклади використання

### Зміна пароля

```bash
# Відредагуйте .env
nano .env

# Змініть рядок:
SUDO_PASSWORD=НовийПароль
```

### Зміна порту веб-сервера

```bash
# Відредагуйте .env
nano .env

# Змініть рядок:
WEB_PORT=9000
```

### Перевірка налаштувань

```bash
# Подивитись поточні налаштування
cat .env

# Або тільки пароль (обережно!)
grep SUDO_PASSWORD .env
```

## Допоміжні файли

- **`.env.example`** - шаблон з значеннями за замовчуванням
- **`sudo_helper.sh`** - допоміжний скрипт для автоматичного введення пароля
- **`load_env.sh`** - функції для завантаження змінних середовища

## Усунення проблем

### Пароль не працює

1. Перевірте правильність пароля в `.env`:
   ```bash
   cat .env | grep SUDO_PASSWORD
   ```

2. Переконайтесь що немає зайвих пробілів або лапок

3. Перевірте права доступу:
   ```bash
   chmod 600 .env
   chmod +x sudo_helper.sh
   ```

### Скрипт все одно запитує пароль

1. Переконайтесь що `.env` існує:
   ```bash
   ls -la .env
   ```

2. Перевірте що `SUDO_PASSWORD` встановлено:
   ```bash
   source .env && echo $SUDO_PASSWORD
   ```

3. Перезапустіть скрипт

### Веб-інтерфейс не запускається

1. Перевірте порт в `.env`:
   ```bash
   grep WEB_PORT .env
   ```

2. Переконайтесь що порт вільний:
   ```bash
   lsof -i :8888
   ```

3. Змініть порт якщо потрібно

## Додаткова інформація

Для більш детальної інформації дивіться:
- [README.md](README.md) - Загальна документація
- [SECURITY.md](SECURITY.md) - Рекомендації з безпеки
- [WEB_INTERFACE_README.md](WEB_INTERFACE_README.md) - Документація веб-інтерфейсу
